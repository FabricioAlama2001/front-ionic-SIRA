<ion-content>
  <div class="container">
    <div class="panel">
      <label>Recuperar Contrase帽a</label>
      <!--  Logo -->
      <img src="/assets/images/pages/auth/login/logo_login.png" class="logo" alt="Logo">

      <ion-list [formGroup]="form">

        <!--  Paso 1: Ingresar Usuario o Correo -->
        <div [hidden]="isCodeSent">
          <label>N煤mero de Identificaci贸n:</label>
          <ion-item>
            <ion-input placeholder="N煤mero de C茅dula" formControlName="username"></ion-input>
          </ion-item>
          <ion-button expand="full" (click)="sendVerificationCode()">Enviar C贸digo</ion-button>
        </div>

        <!--  Paso 2: Ingresar C贸digo de Verificaci贸n -->
        <div [hidden]="!isCodeSent || isCodeValid">
          <label>C贸digo de Verificaci贸n:</label>
          <ion-item>
            <ion-input type="text" formControlName="code" placeholder="Ingrese el c贸digo recibido"></ion-input>
          </ion-item>
          <ion-button expand="full" (click)="verifyCode()">Verificar C贸digo</ion-button>
        </div>

        <!--  Paso 3: Ingresar Nueva Contrase帽a -->
        <div [hidden]="!isCodeValid">
          <label>Nueva Contrase帽a:</label>
          <ion-item>
            <ion-input type="password" formControlName="newPassword" placeholder="Ingrese su nueva contrase帽a"></ion-input>
          </ion-item>
          <ion-button expand="full" (click)="updatePassword()">Actualizar Contrase帽a</ion-button>
        </div>

        <ion-button expand="full" fill="outline" (click)="goBack()">
          <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
          Regresar
        </ion-button>

      </ion-list>

    </div>
  </div>

  <!--  Alertas -->
  <ion-alert
    [isOpen]="errorAlert"
    header="Error"
    message="{{ errorMessage }}"
    [buttons]="['Aceptar']"
    (didDismiss)="errorAlert = false">
  </ion-alert>

  <ion-alert
    [isOpen]="successAlert"
    header="xito"
    message="{{ successMessage }}"
    [buttons]="['Aceptar']"
    (didDismiss)="successAlert = false">
  </ion-alert>

</ion-content>
