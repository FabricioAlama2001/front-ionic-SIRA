<ion-content>
  <div class="container">
    <div class="panel">
      <label>Recuperar Contrase침a</label>
      <!-- 游늷 Logo -->
      <img src="/assets/images/pages/auth/login/logo_login.png" class="logo" alt="Logo">

      <ion-list [formGroup]="form">

        <!-- 游 Paso 1: Ingresar Usuario o Correo -->
        <div [hidden]="isCodeSent">
          <label>N칰mero de Identificaci칩n:</label>
          <ion-item>
            <ion-input placeholder="N칰mero de C칠dula" formControlName="username"></ion-input>
          </ion-item>
          <ion-button expand="full" (click)="sendVerificationCode()">Enviar C칠dula</ion-button>
        </div>

        <!-- 游 Paso 2: Ingresar C칩digo de Verificaci칩n -->
        <div [hidden]="!isCodeSent || isCodeValid">
          <label>C칩digo de Verificaci칩n:</label>
          <ion-item>
            <ion-input type="text" formControlName="code" placeholder="Ingrese el c칩digo recibido"></ion-input>
          </ion-item>
          <ion-button expand="full" (click)="verifyCode()">Verificar C칩digo</ion-button>
        </div>

        <!-- 游 Paso 3: Ingresar Nueva Contrase침a -->
        <div [hidden]="!isCodeValid">
          <label>Nueva Contrase침a:</label>
          <ion-item>
            <ion-input type="password" formControlName="newPassword" placeholder="Ingrese su nueva contrase침a"></ion-input>
          </ion-item>
          <ion-button expand="full" (click)="updatePassword()">Actualizar Contrase침a</ion-button>
        </div>

        <ion-button expand="full" fill="outline" (click)="goBack()">
          <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
          Regresar
        </ion-button>

      </ion-list>

    </div>
  </div>

  <!-- 游늷 Alertas -->
  <ion-alert
    [isOpen]="errorAlert"
    header="Error"
    message="{{ errorMessage }}"
    [buttons]="['Aceptar']"
    (didDismiss)="errorAlert = false">
  </ion-alert>

  <ion-alert
    [isOpen]="successAlert"
    header="칄xito"
    message="{{ successMessage }}"
    [buttons]="['Aceptar']"
    (didDismiss)="successAlert = false">
  </ion-alert>

</ion-content>
